{
  "version": "2.0",
  "envId": "{{env.envId}}",
  "framework": {
    "name": "daiwa-cn-site",
    "plugins": {
      "website": {
        "use": "@cloudbase/framework-plugin-website",
        "inputs": {
          "installCommand": "npm ci || npm i",
          "buildCommand": "node apps/site/scripts/sync-papers-data.mjs || echo skip && npm --prefix apps/site run build",
          "outputPath": "apps/site/dist",
          "cloudPath": "/"
        }
      },
      "functions": {
        "use": "@cloudbase/framework-plugin-function",
        "inputs": {
          "functionRootPath": "functions",
          "functions": [
            {
              "name": "comment-list",
              "runtime": "Nodejs12.16",
              "installDependency": true
            },
            {
              "name": "comment-post",
              "runtime": "Nodejs12.16",
              "installDependency": true
            },
            {
              "name": "comment-hot",
              "runtime": "Nodejs12.16",
              "installDependency": true
            },

            {
              "name": "papers-export-minisearch",
              "runtime": "Nodejs12.16",
              "installDependency": true
            },
            {
              "name": "papers-export-taxonomy",
              "runtime": "Nodejs12.16",
              "installDependency": true
            },
            {
              "name": "papers-export-static-keywords",
              "runtime": "Nodejs12.16",
              "installDependency": true
            },
            {
              "name": "papers-search",
              "runtime": "Nodejs12.16",
              "installDependency": true
            },
            {
              "name": "papers-export-build-queue",
              "runtime": "Nodejs12.16",
              "installDependency": true
            },
            {
              "name": "papers-build-ack",
              "runtime": "Nodejs12.16",
              "installDependency": true
            }
          ],
          "servicePaths": {
            "comment-post": "/api/comment-post",
            "comment-list": "/api/comment-list",
            "comment-hot": "/api/comment-hot",

            "papers-export-minisearch": "/papers/export/minisearch",
            "papers-export-taxonomy": "/papers/export/taxonomy",
            "papers-export-static-keywords": "/papers/export/static-keywords",
            "papers-search": "/papers/search",
            "papers-export-build-queue": "/papers/export/build-queue",
            "papers-build-ack": "/papers/build-ack"
          }
        }
      }
    }
  }
}
